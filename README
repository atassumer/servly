* Delayed_Job

== Devise : Users Model

== Setting
  belongs_to domain
  belongs_to user

  - domain_id:integer
  - user_id:integer
  - setting_key:string
  - setting_val:string 
  - setting_ord:integer
== CollectiveStat
  belongs_to domain

  - domain_id:integer
  - net_in:integer
  - net_out:integer
  - net_total:integer
  - cpu_usage:float
  - number_of_cpus:integer
  - memory_free:integer
  - memory_used:integer
  - net_connections:integer

== AutomatedTasks
  belongs_to domain
  belongs_to server

  - domain_id:integer
  - server_id:integer
  - command:string
  - output:text

== DomainUser
  belongs_to user
  belongs_to domain

  - user_id:integer
  - domain_id:integer
  - active:integer

== Domain
  has_and_belongs_to_many users
  has_many servers
  has_many users
  has_many alerts
  has_many url_monitors
  has_many collective_stats
  has_many automated_tasks
  has_many triggered_alerts

  - subdomain:string
  - domain:string 
  - user_id:integer
  - api_key:string
  - server_limit:integer
  - alert_limit:integer
  - url_monitor_limit:integer
  - user_limit:integer
  - active:integer

== Group
  belongs_to domain 

  - domain_id:integer
  
== Log
  has_one :message
  belongs_to :domain
  belongs_to :server

  domain_id:integer
  server_id:integer
  message_id:integer

== Message
  belongs_to log

  - message:string
  - message_type:string

== Alert
  belongs_to alertable [ polymorphic for: Server and UrlMonitor ]
  belongs_to domain
  has_many users through AlertUsers

  - domain_id:integer
  - threshold_stat:string
  - threshold_value:integer
  - active:integer

== AlertUser
  - user_id:integer
  - alert_id:integer

== TriggeredAlert
  belongs_to alert
  belongs_to triggerable_alert [ polymorphic for: Server and UrlMonitor ]
  belongs_to domain

  - domain_id:integer


== Server
  belongs_to domain
  belongs_to group
  has_many alerts
  has_many triggered_alerts
  has_many logs
  has_many automated_tasks
  has_many monitored_services
  has_many server_logs

  - group_id:integer
  - domain_id:integer
  - hostname:string
  - ip:string
  - location:string 
  - cpu_usage:float
  - disk_size:integer
  - disk_used:integer
  - load_one:float
  - load_five:float
  - load_fifteen:float
  - mem_free:integer
  - mem_used:integer
  - swap_free:integer
  - swap_used:integer
  - net_in:integer
  - net_out:integer
  - running_procs:integer
  - number_of_cpus:integer
  - kernel:string
  - release:string
  - running_processes:text
  - pending_updates:integer
  - os:string

== ServerLog
  belongs_to domain
  belongs_to group
  belongs_to server

  - group_id:integer
  - domain_id:integer
  - hostname:string
  - ip:string
  - location:string 
  - cpu_usage:float
  - disk_size:integer
  - disk_used:integer
  - load_one:float
  - load_five:float
  - load_fifteen:float
  - mem_free:integer
  - mem_used:integer
  - swap_free:integer
  - swap_used:integer
  - net_in:integer
  - net_out:integer
  - running_procs:integer
  - number_of_cpus:integer
  - kernel:string
  - release:string
  - pending_updates:integer


== MonitoredService
  belongs_to server
  belongs_to service
  belongs_to domain

  - domain_id:integer
  - server_id:integer
  - service_id:integer
  - service_status:integer
  - service_value:string 

== MonitoredServiceLog
  belongs_to server
  belongs_to service
  belongs_to domain

  - domain_id:integer
  - server_id:integer
  - service_id:integer
  - service_status:integer
  - service_value:string 


== Service
  belongs_to domain

  - service_name:string
  - domain_id:integer

== UrlMonitor
  belongs_to domain
  has_many alerts
  has_many url_monitor_logs

  - url:string
  - response_time:float
  - status_code:integer
  - keyword:string
  - domain_id:integer
  - current_run:text
  - current_status:integer

== UrlMonitorLog
  belongs_to url_monitor
  belongs_to domain

  - domain_id:integer
  - response_time:float
  - status_code:integer




